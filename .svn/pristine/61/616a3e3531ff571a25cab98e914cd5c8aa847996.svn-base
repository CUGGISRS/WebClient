(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67ed4bb6"],{"1d1a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("数据管理")]),a("el-breadcrumb-item",[e._v("数据管理")])],1),a("div",{attrs:{id:"toolDiv"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入标题"},model:{value:e.params.title,callback:function(t){e.$set(e.params,"title",t)},expression:"params.title"}}),a("el-button",{attrs:{type:"primary",size:"small",circle:"",icon:"el-icon-search"},on:{click:function(t){return e.getLocalAgent()}}}),a("el-button",{attrs:{type:"primary",size:"small",circle:"",icon:"el-icon-plus"},on:{click:function(t){return e.addData()}}})],1),a("el-table",{staticStyle:{width:"95%"},attrs:{stripe:"",height:e.tableHeight,data:e.LocalAgents}},[a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"ip",label:"ip地址"}}),a("el-table-column",{attrs:{prop:"port",label:"端口"}}),a("el-table-column",{attrs:{prop:"path",label:"本地路径"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"small",circle:""},on:{click:function(a){return e.editData(t.row)}}}),a("el-button",{attrs:{icon:"el-icon-delete",type:"primary",size:"small",circle:""},on:{click:function(a){return e.delData(t.row.id)}}})]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":e.params.page,"page-sizes":[10,15,20,25,30],"page-size":e.params.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"数据管理详情",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"LocalAgent",attrs:{"label-width":"100px",rules:e.rules,model:e.LocalAgent}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:e.LocalAgent.title,callback:function(t){e.$set(e.LocalAgent,"title",t)},expression:"LocalAgent.title"}})],1),a("el-form-item",{attrs:{label:"ip地址",prop:"ip"}},[a("el-input",{model:{value:e.LocalAgent.ip,callback:function(t){e.$set(e.LocalAgent,"ip",t)},expression:"LocalAgent.ip"}})],1),a("el-form-item",{attrs:{label:"端口",prop:"port"}},[a("el-input",{model:{value:e.LocalAgent.port,callback:function(t){e.$set(e.LocalAgent,"port",t)},expression:"LocalAgent.port"}})],1),a("el-form-item",{attrs:{label:"本地路径",prop:"path"}},[a("el-input",{model:{value:e.LocalAgent.path,callback:function(t){e.$set(e.LocalAgent,"path",t)},expression:"LocalAgent.path"}})],1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),a("el-button",{attrs:{type:"primary"},on:{click:e.closed}},[e._v("关闭")])],1)],1)],1)],1)},i=[],n=a("9f86"),r=a("de25"),o={data:function(){var e=function(e,t,a){null!=t&&r["a"].isValidIP(t)?a():a(new Error("ip地址格式不正确!"))},t=function(e,t,a){null!=t&&r["a"].isValidNumber(t)?a():a(new Error("端口不为数字格式!"))};return{tableHeight:0,total:0,params:{page:1,limit:15},LocalAgents:[],LocalAgent:{},title:"本地代理",dialogVisible:!1,optType:"",rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],ip:[{required:!0,message:"请输入地址",trigger:"blur"},{validator:e,trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"},{validator:t,trigger:"blur"}],path:[{required:!0,message:"请输入本地路径",trigger:"blur"}]}}},created:function(){var e=this;this.getLocalAgent(),this.setTableHeight(),window.onresize=function(){e.setTableHeight()}},methods:{setTableHeight:function(){var e=document.documentElement.clientHeight||document.body.clientHeight;this.tableHeight=e-198},handleSizeChange:function(e){this.params.limit=e,this.getLocalAgent()},handleCurrentChange:function(e){this.params.page=e,this.getLocalAgent()},getLocalAgent:function(){var e=this;n["a"].getLocalAgent(this.params).then((function(t){200==t.status?(e.LocalAgents=t.data.rows,e.total=t.data.total):e.$message.error(t.message)}))},delData:function(e){var t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n["a"].delLocalAgent(e).then((function(e){200==e.status?(t.$message({duration:1e3,type:"success",message:"删除成功！"}),t.getLocalAgent()):t.$message.error(e.message)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addData:function(){this.dialogVisible=!0,this.optType="add",this.LocalAgent={}},editData:function(e){this.dialogVisible=!0,this.optType="edit",this.LocalAgent=e},submit:function(){var e=this;this.$refs.LocalAgent.validate((function(t){if(!t)return e.$message.error("信息填写不完整或不准确，请检查再提交！"),!1;"add"==e.optType?n["a"].addLocalAgent(e.LocalAgent).then((function(t){200==t.status?(e.$message({duration:1e3,type:"success",message:"添加成功！"}),e.getLocalAgent(),e.dialogVisible=!1):e.$message.error(t.message)})):"edit"==e.optType&&n["a"].editLocalAgent(e.LocalAgent).then((function(t){200==t.status?(e.$message({duration:1e3,type:"success",message:"修改成功！"}),e.getLocalAgent(),e.dialogVisible=!1):e.$message.error(t.message)}))}))},closed:function(){this.dialogVisible=!1}}},s=o,c=(a("ddae"),a("2877")),u=Object(c["a"])(s,l,i,!1,null,null,null);t["default"]=u.exports},"37ed":function(e,t,a){},ddae:function(e,t,a){"use strict";a("37ed")}}]);
//# sourceMappingURL=chunk-67ed4bb6.0a7c2ffb.js.map