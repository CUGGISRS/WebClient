(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa211"],{1062:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("服务管理")]),a("el-breadcrumb-item",[t._v("服务状态")])],1),a("div",{attrs:{id:"toolDiv"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入名称"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}}),a("el-button",{attrs:{type:"primary",size:"small",circle:"",icon:"el-icon-search"},on:{click:function(e){return t.getData()}}})],1),a("el-table",{staticStyle:{width:"95%"},attrs:{stripe:"",height:t.tableHeight,data:t.rows}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return t.editState(e.row)}}},[t._v("停止")]):a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return t.editState(e.row)}}},[t._v("启动")])]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":t.params.page,"page-sizes":[10,15,20,25,30],"page-size":t.params.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],s=a("9f86"),r={data:function(){return{tableHeight:0,total:0,params:{page:1,limit:15},rows:[],row:{}}},created:function(){var t=this;this.getData(),this.setTableHeight(),window.onresize=function(){t.setTableHeight()}},methods:{setTableHeight:function(){var t=document.documentElement.clientHeight||document.body.clientHeight;this.tableHeight=t-198},handleSizeChange:function(t){this.params.limit=t,this.getData()},handleCurrentChange:function(t){this.params.page=t,this.getData()},getData:function(){var t=this;s["a"].getServiceState(this.params).then((function(e){200==e.status?(t.rows=e.data.rows,t.total=e.data.total):t.$message.error(e.message)}))},editState:function(t){var e=this;this.$confirm("确定修改状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=t.status;0===a?a=1:1===a&&(a=0),s["a"].editServiceState({id:t.id,status:a}).then((function(t){200==t.status?(e.$message.success("修改状态成功"),e.getData()):e.$message.error(t.message)}))})).catch((function(){e.$message({type:"info",message:"已取消修改"})}))}}},o=r,l=a("2877"),c=Object(l["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0aa211.e1abe698.js.map